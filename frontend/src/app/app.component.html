<div class="container" style="margin-top:10px;">
  <form *ngIf="!registered">
    <div *ngIf="error" class="alert alert-danger alert-dismissible fade show" role="alert">
      <strong>Failed!</strong> {{error}}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" name="name" class="form-control" id="name" [(ngModel)]="name">
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="name.length < 3 || submitted"
            (click)="register()">Submit</button>
  </form>

  <div class="card mb-2" *ngIf="registered">
    <div class="card-header">
      Your Choice
    </div>
    <div class="card-body">
      <app-cards [(selection)]="selection" [disabled]="showReset" (selectionChange)="selectionChanged($event)"></app-cards>
    </div>
  </div>

  <div class="row row-cols-1 row-cols-md-5">
    <div class="col mb-4" *ngFor="let card of players">
      <div class="card"
           [ngClass]="{'border-primary': card.selected === true, 'border': !card.selected}">
        <div class="card-body  text-center">
          <h5 class="card-title">{{card.name}}</h5>
          <p class="card-text">{{card.choice || "&nbsp;"}}</p>
        </div>
      </div>
    </div>
    <div class="col mb-4" *ngIf="showReset">
      <a href="#" class="card" tabindex="0" (click)="sendReset(); $event.preventDefault()" role="button">
        <div class="card-body text-center">
            <span class="fa-stack fa-2x">
              <i class="far fa-recycle fa-stack-1x"></i>
              <i class="fal fa-trash fa-stack-2x"></i>
            </span>
        </div>
      </a>
    </div>
  </div>

</div>
